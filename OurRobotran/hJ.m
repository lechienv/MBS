function [ h, J ] = hJ( s )
% calcule h et J pour une configuration donnee
% s : data

x1 = s.q(1);
y1 = s.q(2);
t1 = s.q(3);
x2 = s.q(4);
y2 = s.q(5);
t2 = s.q(6);
x3 = s.q(7);
y3 = s.q(8); 
t3 = s.q(9);
x4 = s.q(10); 
y4 = s.q(11);
t4 = s.q(12);
x5 = s.q(13);
y5 = s.q(14);
t5 = s.q(15);

h = [x1;
    t1;
    y2-y1;
    x2-x1-0.25;
    x3-x1-0.25;
    y3-y1+0.25;
    t3-t2;
    y4-y3-0.5*sin(t3);
    x4-x3-0.5*cos(t3);
    t4;
    x5-x4-0.1;
    y5-y4-0.125;
    t5];

J =  [1,  0, 0, 0, 0,  0,  0,  0,          0,  0,  0, 0, 0, 0, 0;
     0,  0, 1, 0, 0,  0,  0,  0,          0,  0,  0, 0, 0, 0, 0;
     0, -1, 0, 0, 1,  0,  0,  0,          0,  0,  0, 0, 0, 0, 0;
    -1,  0, 0, 1, 0,  0,  0,  0,          0,  0,  0, 0, 0, 0, 0;
    -1,  0, 0, 0, 0,  0,  1,  0,          0,  0,  0, 0, 0, 0, 0;
     0, -1, 0, 0, 0,  0,  0,  1,          0,  0,  0, 0, 0, 0, 0;
     0,  0, 0, 0, 0, -1,  0,  0,          1,  0,  0, 0, 0, 0, 0;
     0,  0, 0, 0, 0,  0,  0, -1, -cos(t3)/2,  0,  1, 0, 0, 0, 0;
     0,  0, 0, 0, 0,  0, -1,  0,  sin(t3)/2,  1,  0, 0, 0, 0, 0;
     0,  0, 0, 0, 0,  0,  0,  0,          0,  0,  0, 1, 0, 0, 0;
     0,  0, 0, 0, 0,  0,  0,  0,          0, -1,  0, 0, 1, 0, 0;
     0,  0, 0, 0, 0,  0,  0,  0,          0,  0, -1, 0, 0, 1, 0;
     0,  0, 0, 0, 0,  0,  0,  0,          0,  0,  0, 0, 0, 0, 1];

end

